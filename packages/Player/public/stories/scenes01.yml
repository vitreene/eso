- defs: 
    - &Q1 quarter1
    - &Q2 quarter2
    - &Q3 quarter3
    - &Q4 quarter4
  

- scene:
    id: scene1
    name: introduction
    entry: scene-w-telco
    cast:
      - story01:
          startAt: go

    stories:
      - id: story01
        channel: story01
        stage: '4/3'
        eventimes:
          0:
            name: start
            events:
               0: *Q1
               1000: *Q2
               2000 : *Q3
               3000 : *Q4
               4000 : *Q2
               5000 : *Q1
               
              #  5500: *Q2
              #  6000 : *Q3
              #  6500 : *Q4
              #  7000 : *Q2
              #  7500 : *Q1
              #  0: *Q2
              #  500: *Q1
              #  1500 : *Q4
              #  2000 : *Q3
              #  2500 : *Q2
              #  3500 : *Q1
               1100: {channel: *MAIN, name: *Q1}
               3200: {channel: *MAIN, name: *Q3}
              #  3400: {channel: *MAIN, name: *Q1}
        persos:
          - *BLOC :
              id: bl-01
              extends: proto_bloc
              initial:
                # dimensions: {width: 400, height: 100}
                # dimensions: {width: 100%, height: 100%}
                style:
                  background-color: red
                  position: absolute
                  font-size: 40
                  font-family: Helvetica
                  border: 0px solid purple
                  padding: 20
                content: du texte
              actions:
                *Q1 : {move: *Q1, transition: {to: {color: purple} }}
                *Q2 :
                  move: *Q2
                  transition: 
                    to: 
                      background-color: green
                      color: red
                      rotate: 45
                      border: 20px solid blue
                    duration: 2000

                *Q3 : {move: *Q3, transition: {to: {color: cyan, scale: 2}}}
                *Q4 : {move: *Q4, transition: {to: {background-color: orange}}}

- scene:
    id: scene2
    name: suite
    entry: decor
    # entry: scene-w-telco
    cast:
      - story01:
          startAt: go
          root: fond


    shared:
      persos:
        - list:
            id: list
            initial:
              classStyle: { display: grid}
              className: container

    stories:
      - id: decor
        channel: *DEFAULT_NS
        entry: fond
        stage: '4/3'
        eventimes:
          name: go
          startAt: 0
    
        persos:
          - *LIST :
              id: fond
              extends: list
              initial:
                className: top-container
                classStyle: {
                  grid-template-columns: '2fr 2fr'
                }

      - id: story01
        channel: story01
        stage: '4/3'
        eventimes:
          0: 
            name: start
            events:
              500: *Q1
              1000 : *Q2
              1500 : [ *Q3, {channel: *MAIN, name: *Q2}]
              2000 : *Q4
              2500 : *Q1
              3500 : fin

        persos:
          - list :
              id: *Q1
              extends: list
              initial:
                classStyle: {grid-row: 1, grid-column: 1 }
              actions: { start : { move: fond } }
          - list :
              id: *Q2
              extends: list
              initial:
                classStyle: {grid-row: 2, grid-column: 1 }
              actions: { start : { move: fond } }
          - list :
              id: *Q3
              extends: list
              initial:
                classStyle: {grid-row: 1, grid-column: 2 }
              actions: { start : { move: fond } }
          - list :
              id: *Q4
              extends: list
              initial:
                classStyle: {grid-row: 2, grid-column: 2 }
              actions: 
                 start : { move: fond } 
                 *Q2 : 
                    transition: 
                      to: {background-color: 'rgba(0, 128, 255, 0.5)'}
                      duration: 1000

          - *BLOC :
              id: bl-01
              extends: proto_bloc
              initial:
                # dimensions: {width: 400, height: 100}
                style:
                  background-color: cyan
                  color: red
                  position: absolute
                  font-size: 40
                  font-family: Helvetica
                  border: 0px solid purple
                  padding: 20
                content: { lang: fr, refLang: sous-titre, ref: txt01 }

              actions:
                *Q1 : 
                  move: *Q1
                  # transition: {to: {color: purple} }
                  
                *Q2 :
                  move: *Q2
                  transition: 
                    to: 
                      background-color: green
                      color: red
                      rotate: 45
                      border: 20px solid blue
                    duration: 1000
                  
                *Q3 : 
                  move: *Q3
                  transition: {to: {color: black, scale: 2},duration: 1000}

                *Q4 : 
                  move: *Q4
                  transition: {to: {background-color: orange},duration: 1000}


- scene:
    id: scene3
    name: suite
    entry: scene-w-telco
    cast:
      - story01:
          startAt: go
    stories:
      - id: story01
        channel: story01
        stage: '4/3'

        eventimes:
          0: 
            name: start
            events:
              # 500: *Q1
              # 1000 : *Q2
              # 1500 : [ *Q3, {channel: *MAIN, name: *Q2}]
              # 2000 : *Q4
              # 2500 : *Q1
              0: *Q1
              2000 : *Q2
              5000 : [ *Q3, {channel: *MAIN, name: *Q2}]
              8000 : *Q4
              11000 : *Q1

        persos:
          - *BLOC :
              id: bl-01
              extends: proto_bloc
              initial:
                # dimensions: {width: 400, height: 100}
                style:
                  background-color: cyan
                  position: absolute
                  font-size: 40
                  font-family: Helvetica
                  border: 0px solid purple
                  padding: 20
              actions:
                *Q1 : 
                  move: *Q1
                  transition: {to: {color: purple} }
                  content: { lang: fr, refLang: sous-titre, ref: txt01 }
                  
                *Q2 :
                  move: *Q2
                  transition: 
                    to: 
                      background-color: green
                      color: red
                      rotate: 45
                      border: 20px solid blue
                    duration: 1000
                  content: { lang: en, refLang: langue, ref: txt01, effect: fade }
                  
                *Q3 : 
                  move: *Q3
                  transition: {to: {color: black, scale: 2},duration: 1000}
                  content: { text: encore un, effect: fade }

                *Q4 : 
                  move: *Q4
                  transition: {to: {background-color: orange},duration: 1000}
                  content: { text:  A bientot pour un prochain essai, effect: letters-top-down }


- shared:
    persos:
      - *PROTO :
          id: proto_bloc
          initial:
            className: bloc-center
            classStyle: {  align-self: center,  justify-self: center}
    stories:
      - id: scene-w-telco
        channel: *DEFAULT_NS
        entry: *CONTAINER_ESO 
        stage: '4/3'
        eventimes:
          name: go
          startAt: 0
        persos:
          - *LAYER :
              id: *CONTAINER_ESO
              initial:
                className: container
                classStyle: {
                  display: grid,
                  grid-template-columns: '2fr 2fr',
                  background-color: green
                }
                content:
                  - id: *Q1
                    classStyle: {display: grid, grid-row: 1, grid-column: 1 }
                  - id: *Q2
                    classStyle: {display: grid, grid-row: 2, grid-column: 1}
                  - id: *Q3
                    classStyle: {display: grid, grid-row: 1, grid-column: 2 }
                  - id: *Q4
                    classStyle: {display: grid, grid-row: 2, grid-column: 2 }
              actions:
                end-scene: { leave: true }
                *Q1 : {transition: {to: {scale: 0.7}}}
                *Q3 : {transition: {to: {scale: 1}}}
                *Q2 : {transition: {to: {background-color: blue}, duration: 1000}}
                *Q4 : {transition: {to: {background-color: red}}}

                     